# Web-приложение для определения заполненных форм.
## Задание
В базе данных хранится список шаблонов форм.

Шаблон формы, это структура, которая задается уникальным набором полей, с указанием их типов.

Пример шаблона формы:
```JSON
{
    "name": "Form template name",
    "field_name_1": "email",
    "field_name_2": "phone"
}
```

Всего должно поддерживаться четыре типа данных полей: 
- email
- телефон
- дата
- текст.

Все типы кроме текста должны поддерживать валидацию. Телефон передается в стандартном формате `+7 xxx xxx xx xx`, дата передается в формате  `DD.MM.YYYY` или `YYYY-MM-DD`.

Имя шаблона формы задается в свободной форме, например MyForm или Order Form.
Имена полей также задаются в свободной форме (желательно осмысленно), например user_name, order_date или lead_email.

На вход по урлу /get_form POST запросом передаются данные такого вида:
f_name1=value1&f_name2=value2

В ответ нужно вернуть имя шаблона формы, если она была найдена.
Чтобы найти подходящий шаблон нужно выбрать тот, поля которого совпали с полями в присланной форме. Совпадающими считаются поля, у которых совпали имя и тип значения. Полей в пришедшей форме может быть больше чем в шаблоне, в этом случае шаблон все равно будет считаться подходящим. Самое главное, чтобы все поля шаблона присутствовали в форме.

Если подходящей формы не нашлось, вернуть ответ в следующем формате

```JSON
{
    f_name1: FIELD_TYPE,
    f_name2: FIELD_TYPE
}
```

где FIELD_TYPE это тип поля, выбранный на основе правил валидации, проверка правил должна производиться в следующем порядке дата, телефон, email, текст.
## Структура проекта
* BASE DIR
    + config
        - settings.py - настройки проекта
    +.env - настройки окружения
    + main.py - запуск приложения
    + requirments.txt - список зависимостей
    + run_app.bat - скрипт для запуска и тестирования проекта
    + services.py - набор вспомогательных функций
    + test_get_form.py - автоматические тесты (pytest)
    + testdb.json - база данных шаблонами форм для тестирования
## Инструкции по запуску
Для запуска приложения необходимо клонировать репозиторий на локальный диск и выполнить следующие шаги:
1. Открыть файд `.env` в текстовом редакторе и задать значения для следующих переменных
  - HOST (default=127.0.0.1)
  - PORT (default=5000)
  - DATABASE_NAME - название базы данных в корневом каталоге (default=testdb.json)
  - DEBUG_MODE - 'local' для включения режима DEBUG, 'prod' для отключения (default=prod)
2. Запустить скрипт `run_app.bat`, который
  - активирует виртуальное окружение
  - установит необходимые зависимости
  - запустит приложение
  - запустит тестирование
  - после успешного прохождения тестов выведет отчет в консоль
3. Закрыть терминал с результатами тестирования, нажав на любую клавишу
